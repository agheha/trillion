<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.momstudy.repository.dao.BoardDAO">
         <resultMap type="Board" id="boardMap">
         <result column="num" property="num" />
         <result column="title" property="title" />
         <result column="content" property="content" />
         <result column="reg_date" property="regDate" />
         <result column="email" property="email" />
         <result column="study_no" property="studyNo" />
         <result column="type" property="type" />
         <result column="notice" property="notice" />
         <result column="comment_group_code" property="commentGroupCode" />
</resultMap>

<!-- 자유게시판  리스트! -->
<select id="selectBoard" resultMap="boardMap">
		select *
		from tb_free_board
		order by 
		type asc, num desc
	</select>
	
<!-- 글 상세 조회 -->
<select id="selectOneBoard" parameterType="int" resultMap="boardMap">
   select *
   from tb_free_board
   where num = #{num}
</select>

<!-- 글 등록  -->
<insert id="insertBoard" parameterType="Board">
insert into tb_free_board (num, title, content, email) 
values (seq_free_board_num.nextval, #{title}, #{content}, #{email})
</insert>

<!-- 글 수정 -->
<update id="updateBoard" parameterType="Board">
 update tb_free_board
    set title = #{title},
       content = #{content}
       where num = #{num}  
</update>

<!-- 글 삭제 -->
<delete id="deleteBoard" parameterType="int">
   delete
     from tb_free_board
     where
     num = #{num}
</delete>

 
<!-- 댓글 파트 시작 -->
<!--  
<resultMap id="commentMap" type="Comment">
    <result column="email" property="email" />
    <result column="num" property="num" />
    <result column="content" property="content" />
    <result column="regdate" property="regDate" />
    <result column="comment_group_code" property="commentGroupCode" />
    <result column="parent" property="parent" />
</resultMap>
-->

<!-- 댓글 리스트 -->
<!--  
<select id="selectComment" parameterType="int" resultMap="commentMap">
     select *
       from tb_comment
      where num = #{num}
      order by comment_group_code
</select>
-->

<!-- 댓글 등록 -
<insert id="insertComment" parameterType="Comment">
  insert into tb_comment(
    num, comment_group_code, email, content 
   ) values (
   seq_comment_num.nextVal,
   #{comment_group_code}, #{email}, #{content}
   ) 
</insert>   
-->

</mapper>